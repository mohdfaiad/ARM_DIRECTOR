<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <link rel="stylesheet" href="style.css" type="text/css"/>

        <title>TEST ARM_EDITOR web client</title>
        <meta charset="UTF-8">
        <meta name="description" content="">
        <script src="scripts/data.js"></script>
        <script src="scripts/devs.js"></script>
        <script src="scripts/events.js"></script>
        <script src="scripts/airSecond.js"></script>
        <script src="scripts/devman.js"></script>
        <script src="scripts/TLO.js"></script>
        <script src="scripts/TLT.js"></script>
        <script src="scripts/TLP.js"></script>
        <script src="scripts/alltimelines.js"></script>
        <script src="scripts/myutils.js"></script>
        <script src="scripts/main.js"></script>
        <script src="scripts/vendor/jquery-1.11.0.min.js "></script>
        <script src="scripts/typescreen.js"></script>
        <style>
            body{
            }
            .m2enu{
                position: absolute;
                left: 50%;            
                margin-right:-50%; 
            }           
            th{ 
                text-align:center ;
                padding:10px;
            }
            td{
                padding:5px;
            }

            .myCanvas{
                margin: -3px;
            }
        </style>    
    </head>
    <body>

        <div style="display:block;" class="menu" id="select_scr">
            <table  id="select_menu" cellspacing=0 border=1>
                <tr>
                    <th colspan="50" style>
                        <h2 id="title1">
                            ARM Director
                        </h2>
                    </th>
                </tr>
                <tr>
                <tr >
                    <th colspan="8">
                        <input type="radio" id="contactChoice1"
                               name="type01" value="0">
                        <label for="contactChoice1">Показывать шкалу времени</label>
                        <input checked type="radio" id="contactChoice2"
                               name="type01" value="1">
                        <label for="contactChoice2">События устройства</label>
                    </th>
                </tr><tr>
                    <td colspan='4'>
                        Количество событий
                    </td>
                    <td> 
                        <input id="CountEvents_0" type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                </tr>
                <td colspan='4'>
                    Тайм-линия
                </td>
                <td colspan="3" align="left">
                    <select class="graphSelect"  id="ActiveTL_0" >
                    </select>

                </td>


                </tr>
                <tr>
                    <th colspan='999'>
                        <button type=submit onClick="execMain_0();" > Продолжить </button>
                    </th>    
                </tr>
                <tr>
                    
                </tr>
                <! =================== typescr=4 ====================/>
                <tr >
                    <th colspan="8">
                        Настройка экрана
                    </th>
                </tr>
                <tr>
                    <td colspan='1'>
                        1 Поле
                    </td>
                    <td colspan="3" align="left">
                        <select  id="scr_1" class="graphSelect"  id="ActiveTL_0" >
                            <option value="-1">Не используется</option>
                            <option value="0">События [ShowEvents]</option>
                            <option value="1">Устройства [ShowDevice]</option>
                            <option value="2">Тайм линии [ShowTimelines]</option>
                            <option value="3">Образ тайм линий [ShowAllTimelines]</option>
                            <option value="4">События  устройства 1 [ShowDev1]</option>
                            <option value="5">События  устройства 2 [ShowDev2]</option>
                        </select>
                    </td><td> 
                        <input id="scr_1_1" type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                    <td> 
                        <input  id="scr_1_2"  type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                </tr>
                <tr>
                    <td colspan='1'>
                        2 Поле
                    </td>
                    <td colspan="3" align="left">
                        <select  id="scr_2" class="graphSelect"  id="ActiveTL_0" >
                            <option value="-1">Не используется</option>
                            <option value="0">События [ShowEvents]</option>
                            <option value="1">Устройства [ShowDevice]</option>
                            <option value="2">Тайм линии [ShowTimelines]</option>
                            <option value="3">Образ тайм линий [ShowAllTimelines]</option>
                            <option value="4">События  устройства 1 [ShowDev1]</option>
                            <option value="5">События  устройства 2 [ShowDev2]</option>
                        </select>
                    </td><td> 
                        <input id="scr_2_1" type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                    <td> 
                        <input  id="scr_2_2"  type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                </tr>
                <tr>
                    <td colspan='1'>
                        3 Поле
                    </td>
                    <td  colspan="3" align="left">
                        <select id="scr_3"  class="graphSelect"  id="ActiveTL_0" >
                            <option value="-1">Не используется</option>
                            <option value="0">События [ShowEvents]</option>
                            <option value="1">Устройства [ShowDevice]</option>
                            <option value="2">Тайм линии [ShowTimelines]</option>
                            <option value="3">Образ тайм линий [ShowAllTimelines]</option>
                            <option value="4">События  устройства 1 [ShowDev1]</option>
                            <option value="5">События  устройства 2 [ShowDev2]</option>
                        </select>
                    </td><td> 
                        <input id="scr_3_1" type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                    <td> 
                        <input  id="scr_3_2"  type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                </tr>
                <tr>
                    <td colspan='1'>
                        4 Поле
                    </td>
                    <td  colspan="3" align="left">
                        <select id="scr_4" class="graphSelect"  id="ActiveTL_0" >
                            <option value="-1">Не используется</option>
                            <option value="0">События [ShowEvents]</option>
                            <option value="1">Устройства [ShowDevice]</option>
                            <option value="2">Тайм линии [ShowTimelines]</option>
                            <option value="3">Образ тайм линий [ShowAllTimelines]</option>
                            <option value="4">События  устройства 1 [ShowDev1]</option>
                            <option value="5">События  устройства 2 [ShowDev2]</option>
                        </select>
                    </td><td> 
                        <input id="scr_4_1" type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                    <td> 
                        <input  id="scr_4_2"  type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                </tr>
                <tr>
                    <td colspan='1'>
                        5 Поле
                    </td>
                    <td  colspan="3" align="left">
                        <select id="scr_5" class="graphSelect"  id="ActiveTL_0" >
                            <option value="-1">Не используется</option>
                            <option value="0">События [ShowEvents]</option>
                            <option value="1">Устройства [ShowDevice]</option>
                            <option value="2">Тайм линии [ShowTimelines]</option>
                            <option value="3">Образ тайм линий [ShowAllTimelines]</option>
                            <option value="4">События  устройства 1 [ShowDev1]</option>
                            <option value="5">События  устройства 2 [ShowDev2]</option>
                        </select>
                    </td><td> 
                        <input id="scr_5_1" type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                    <td> 
                        <input  id="scr_5_2"  type="number" value=10 min="1" max="31" style="width: 3em;">
                    </td>
                </tr>

                <tr>
                    <th colspan='6'>
                        Описание окна тайм-линий
                    </th>
                </tr>
                <tr>
                    <td colspan="6">
                        <input type="checkbox" id="chk4_1" name="option2" value="a2">Показывать шкалу времени
                    </td>
                </tr>
                <tr>
                    <td colspan="4" align="left">
                        <input type="checkbox" id="chk4_2" name="option2" value="a2">Показывать выбранную тайм линию  
                    </td>
                    <td colspan="2" align="left">
                        <select class="graphSelect"  id="ActiveTL_4" >
                        </select>

                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                        <input type="checkbox" id="chk4_3" name="option2" value="a2">Показывать тайм-линии
                    </td>
                </tr>

                <tr>
                    <th colspan='999'>
                        <button type=submit onClick="execMain_4();" > Продолжить </button>
                    </th>    
                </tr>
                <! =================== typescr=2 ====================/>



            </table>    
        </div>
        <div style="display:none;" id="main">

            <canvas class=myCanvas id="mnCanvas" ></canvas>
            <canvas class=myCanvas id="evCanvas" ></canvas>
            <canvas class=myCanvas id="dvCanvas" ></canvas>
            <canvas class=myCanvas id="edCanvas" ></canvas>
            <canvas class=myCanvas id="tvCanvas" ></canvas>
            <canvas class=myCanvas id="tmCanvas" ></canvas>
        </div>

        <script>
            // ПЕРЕНЕСТИ В MAIN.JS !!!!!!!!!!!!!!!!!!!!!!!11
            var ScreenFields_1 = [0, 0, 0, 0, 0]; //Второе поле
            var ScreenFields_2 = [0, 0, 0, 0, 0]; //Третье
            // ПЕРЕНЕСТИ В MAIN.JS end

            function addDropdownList(id, val, text) {
                text = String(text).replace("#$%#$%", " ")
                var select, i, option;

                select = document.getElementById(id);
                option = document.createElement('option');
                option.value = val;
                option.text = text;
                select.add(option);
            }
            ;
            //            $("#title1").html($(window).width()+"Х"+$(window).height());
            setViewport();
            var mn = document.getElementById("select_menu");

            $("body").css("font-size", "12px");
            for (var fs = 60; fs > 1; fs--) {
                $("table,button,input,select").css("font-size", fs + "px");
                var hd = mn.clientHeight;
                var wd = mn.clientWidth;
                if (scrW < scrH) {
                    if (wd > scrW - 30) {
                        continue;
                    }
                } else {
                    if (hd > scrH - 30) {
                        continue;
                    }
                }
                break;
            }
            var ActiveTL_0 = document.getElementById("ActiveTL_0");
            var select = ActiveTL_0;
            for (var i = 0; i <= TLO.length - 1; i++) {
                addDropdownList("ActiveTL_0", i, TLO[i].Name);
                addDropdownList("ActiveTL_4", i, TLO[i].Name);
            }
            function execMain_0() {
                typesrc = $("input[type='radio'][name='type01']:checked").val();
                ActiveTL = document.getElementById("ActiveTL_0").options.selectedIndex;
                CountEvents = document.getElementById("CountEvents_0").value;
                $("#select_scr").css("display", "none");
                $("#main").css("display", "block");
                window_onload();
            }
            function execMain_4() {
                typesrc = 4;
                ActiveTL = document.getElementById("ActiveTL_4").options.selectedIndex;
                for (var fn = 1; fn < 6; fn++) {
                    fldn = "scr_" + fn;
                    var fld = document.getElementById(fldn).options.selectedIndex - 1;
                    ScreenFields[fn - 1] = document.getElementById(fldn).options.selectedIndex - 1;
                    ScreenFields_1[fn - 1] = document.getElementById(fldn + "_1").value;
                    ScreenFields_2[fn - 1] = document.getElementById(fldn + "_2").value;
                }
                
               
                //ShowEvents, ShowDevices, ShowEditor, ShowScaler, ShowTimelines, ShowNameTL,
//ShowAllTimelines, ShowDev1, ShowDev2;
                DefaultScreen4[3] = document.getElementById("chk4_1").checked;// ShowScaler = document.getElementById("chk4_1").checked;
                DefaultScreen4[2] = document.getElementById("chk4_2").checked;//ShowEditor = document.getElementById("chk4_2").checked;
                DefaultScreen4[4] = document.getElementById("chk4_3").checked;// ShowTimelines = document.getElementById("chk4_3").checked;

                $("#select_scr").css("display", "none");
                $("#main").css("display", "block");
//                var ss = JSON.stringify(ScreenFields);
                alert("ScreenFields="+JSON.stringify(ScreenFields)+" ScreenFields_1="+JSON.stringify(ScreenFields_1)+
                        " ScreenFields_2="+JSON.stringify(ScreenFields_2)+" DefaultScreen4="+JSON.stringify(DefaultScreen4)) ;
                window_onload();
            }


        </script>

    </body>
</html>
